<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Totally Accurate 8ball (maybe)</title>
<style>
  body {
    background: #fff8f0;
    font-family: "Comic Sans MS", sans-serif;
    text-align: center;
    padding: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    user-select: none;
    margin: 0;
    flex-direction: column;
  }
  #answer {
    font-size: 1.8em;
    max-width: 90%;
    transition: transform 0.5s ease, opacity 1s ease;
    opacity: 1;
    margin-bottom: 20px;
  }
  .flip {
    transform: rotateY(180deg);
  }
  #achBtn {
    position: fixed;
    top: 10px;
    right: 10px;
    padding: 8px 12px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 8px;
    border: none;
    background-color: #f3c623;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    user-select: none;
    z-index: 10001;
  }
  #achPage {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: #fff8f0;
    overflow-y: auto;
    padding: 20px 50px 20px 20px;
    z-index: 9999;
  }
  #achList {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
  }
  .achievement {
    width: 160px;
    border: 2px solid #ccc;
    border-radius: 12px;
    padding: 10px;
    background-color: #eee;
    color: #666;
    user-select: none;
    box-shadow: 0 0 8px rgba(0,0,0,0.05);
    transition: all 0.3s ease;
  }
  .achievement.unlocked {
    border-color: #4caf50;
    background-color: #d4ffd4;
    color: #000;
    box-shadow: 0 0 12px #4caf50aa;
  }
  #closeAch {
    position: fixed;
    top: 15px;
    right: 15px;
    font-size: 24px;
    font-weight: bold;
    background: none;
    border: none;
    cursor: pointer;
    color: #f3c623;
    user-select: none;
    z-index: 10002;
    filter: drop-shadow(0 0 1px black);
  }
  #achievement {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #ffda6a;
    color: #222;
    padding: 10px 20px;
    border-radius: 12px;
    font-weight: bold;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease;
    user-select: none;
    z-index: 10000;
  }
  #achievement.show {
    opacity: 1;
    pointer-events: auto;
  }
</style>
</head>
<body>

<div id="answer">Tap anywhere to get your fate...</div>

<button id="achBtn">Achievements</button>

<div id="achPage">
  <h2>Achievements</h2>
  <button id="closeAch">×</button>
  <div id="achList"></div>
</div>

<div id="achievement"></div>

<script>
const answers = [
  "Maybe after you finish your homework.",
  "Only if you promise to dance afterward.",
  "The owl says yes, but who’s listening?",
  "Error 404: Answer not found.",
  "Ask the cheese again in a week.",
  "Probably, but your socks will disappear.",
  "The quantum seal is undecided.",
  "Only if you sacrifice a cookie.",
  "Definitely not on a Tuesday.",
  "Yes, but the pizza disagrees.",
  "Your cat already knows the truth.",
  "Reply hazy, try waving your hands.",
  "Absolutely, in an alternate timeline.",
  "Yes, but the universe might glitch.",
  "Nope, but keep dreaming anyway.",
  "Only if the stars align perfectly.",
  "Maybe, if you believe hard enough.",
  "The answer is behind door number three.",
  "Try asking your reflection.",
  "Seek guidance from the beanbag chair."
  "It is decidedly so.",
  "Without a doubt.",
  "Absolutely, no hesitation.",
  "Yes, but wear a helmet.",
  "For sure.",
  "As certain as gravity.",
  "You bet your socks.",
  "Yeah, but not in the way you think.",
  "Totally, but you'll regret it.",
  "100% yes — trust me, I'm pixels.",
  "Nope.",
  "Don't even think about it.",
  "Absolutely not.",
  "Nah, chief.",
  "Not today, not tomorrow.",
  "Negative, ghost rider.",
  "My circuits say no.",
  "Nope, and the baguette agrees.",
  "This is a disaster waiting to happen.",
  "Not unless you enjoy chaos.",
  "Ask again later.",
  "Cannot predict now.",
  "Unclear, try caffeine first.",
  "Flip a coin, it'll be more fun.",
  "The stars are on lunch break.",
  "My sources are fighting about it.",
  "It's foggy in here.",
  "You're not ready for the answer.",
  "That's above my pay grade.",
  "Schrodinger's answer: both yes and no.",
  "Ask again, but with jazz hands.",
  "The baguette has spoken.",
  "Consult a raccoon.",
  "Yes, but only on Thursdays.",
  "No, unless you bring snacks.",
  "Flip your phone and try again.",
  "Do a backflip first.",
  "Yes, but it'll cost you a sock.",
  "Let the wind decide.",
  "I'm just here for the drama.",
  "You already know the answer, coward.",
  "That's a tomorrow problem.",
  "Trust your gut, unless it's about sushi.",
  "No risk, no story.",
  "You'll survive. Probably.",
  "Not the way you're planning it.",
  "Do it. Or don't. I'm not your mom.",
  "That's a 'yes' if you're brave.",
  "The answer's yes... but it's cursed.",
  "Would I lie to you? (Don't answer that.)",
  "The snails disapprove.",
  "Only if the moon winks at you.",
  "Try turning it off and on again.",
  "Call your mom first.",
  "This message will self-destruct.",
  "The cheese says oui.",
  "The cheese says non.",
  "Consult the nearest pigeon.",
  "Dance and see what happens.",
  "This is the wrong universe for that.",
  "Yes, but only in socks.",
  "No, unless you're underwater.",
  "Yes, but you'll drop your phone.",
  "Sure, if you can name three kinds of bread.",
  "Only if your playlist slaps.",
  "Yes, but someone's watching.",
  "No, but it'll be hilarious.",
  "Yes, but not until you sneeze.",
  "That's a no from me, baguette.",
  "Try again when Mercury isn't drunk.",
  "YES — THE PROPHECY DEMANDS IT.",
  "NO — THE PROPHECY FORBIDS IT.",
  "Seek the beanbag chair of destiny.",
  "You have been chosen. Don't waste it.",
  "The answer was inside you all along. Ew."
];

const achievements = {
  selfDestruct: {
    name: "Self-Destruct Survivor",
    desc: "Saw the message self-destruct and lived to tell the tale.",
    unlocked: false,
  },
  beanbagSeeker: {
    name: "Beanbag Seeker",
    desc: "Sought the beanbag chair of destiny.",
    unlocked: false,
  },
  prophecyDemander: {
    name: "Prophecy Demander",
    desc: "Witnessed the prophecy demand it.",
    unlocked: false,
  },
  prophecyForbidder: {
    name: "Prophecy Forbidder",
    desc: "Witnessed the prophecy forbid it.",
    unlocked: false,
  },
  cowardCaller: {
    name: "Coward Caller",
    desc: "Called someone a coward like a champ.",
    unlocked: false,
  },
  frenchBoi: {
    name: "The French",
    desc: "Witness a french message. (scary)",
    unlocked: false,
  },
  jittery: {
    name: "Jittery Tapper",
    desc: "Tapped faster than the CSS transition can keep up.",
    unlocked: false,
  },
  unluckyBreak: {
    name: "Unlucky Break",
    desc: "Got 'This is a disaster waiting to happen.' twice.",
    unlocked: false,
    count: 0,
  },
  fortuneSeeker: {
    name: "Fortune Seeker",
    desc: "Asked the 8ball 10 times.",
    unlocked: false,
    count: 0,
  },
  skepticalSeal: {
    name: "Skeptical Seal",
    desc: "Got 'My circuits say no.' 3 times.",
    unlocked: false,
    count: 0,
  },
  wiseOne: {
    name: "Wise One",
    desc: "Got 'Ask again later.' 5 times.",
    unlocked: false,
    count: 0,
  },
  backflipInitiate: {
    name: "Backflip Initiate",
    desc: "Heard the backflip advice and lived to try it.",
    unlocked: false,
  },
  riskyBiz: {
    name: "Risky Biz",
    desc: "Got a 'Do it. Or don't. I'm not your mom.' answer.",
    unlocked: false,
  },
  cheeseLover: {
    name: "Cheese Lover",
    desc: "Saw both 'The cheese says oui.' and 'The cheese says non.'",
    unlocked: false,
    ouiGot: false,
    nonGot: false,
  },
  liar: {
    name: "Yes he would.",
    desc: "He's a liar.",
    unlocked: false,
  },
  quickClicker: {
    name: "Quick Clicker",
    desc: "Tapped 5 times in under 2 seconds.",
    unlocked: false,
    lastTapTimes: [],
  },
  existentialCrisis: {
    name: "Existential Crisis",
    desc: "Got 'The answer was inside you all along. Ew.'",
    unlocked: false,
  },
  raccoonConsultant: {
    name: "Raccoon Consultant",
    desc: "Consulted a raccoon.",
    unlocked: false,
  },
  danceFever: {
    name: "Dance Fever",
    desc: "Danced and saw what happened.",
    unlocked: false,
  },
  moonWink: {
    name: "Moon Wink",
    desc: "Only if the moon winks at you.",
    unlocked: false,
  },
  coffeeAddict: {
    name: "Coffee Addict",
    desc: "Asked for caffeine advice more than 3 times.",
    unlocked: false,
    count: 0,
  },
  flipYourPhone: {
    name: "Flip Your Phone",
    desc: "Tried flipping your phone and tried again.",
    unlocked: false,
  },
  snackBringer: {
    name: "Snack Bringer",
    desc: "Brought snacks and got a yes.",
    unlocked: false,
  },
  sockLoss: {
    name: "Sock Loss",
    desc: "Lost a sock due to the 8ball's advice.",
    unlocked: false,
  }
};

const answerDiv = document.getElementById("answer");
const achBtn = document.getElementById("achBtn");
const achPage = document.getElementById("achPage");
const closeAch = document.getElementById("closeAch");
const achList = document.getElementById("achList");
const achievementDiv = document.getElementById("achievement");

function showAchievement(text) {
  achievementDiv.textContent = text;
  achievementDiv.classList.add("show");
  setTimeout(() => {
    achievementDiv.classList.remove("show");
  }, 3000);
}

function loadAchievements() {
  const saved = localStorage.getItem("achievements");
  if (saved) {
    const parsed = JSON.parse(saved);
    for (const key in parsed) {
      if (achievements[key]) achievements[key].unlocked = parsed[key];
    }
  }
}

function saveAchievements() {
  const toSave = {};
  for (const key in achievements) {
    toSave[key] = achievements[key].unlocked;
  }
  localStorage.setItem("achievements", JSON.stringify(toSave));
}

function renderAchievements() {
  achList.innerHTML = "";
  for (const key in achievements) {
    const ach = achievements[key];
    const div = document.createElement("div");
    div.className = "achievement" + (ach.unlocked ? " unlocked" : "");
    div.innerHTML = `<strong>${ach.name}</strong><br><small>${ach.desc}</small>`;
    achList.appendChild(div);
  }
}

function unlockAchievement(key) {
  if (!achievements[key]) return;
  if (!achievements[key].unlocked) {
    achievements[key].unlocked = true;
    saveAchievements();
    renderAchievements();
    showAchievement(`Achievement unlocked: ${achievements[key].name}`);
  }
}

achBtn.addEventListener("click", () => (achPage.style.display = "block"));
closeAch.addEventListener("click", () => (achPage.style.display = "none"));

loadAchievements();
renderAchievements();

document.body.addEventListener("click", () => {
  answerDiv.style.opacity = "1";
  answerDiv.classList.add("flip");

  const now = Date.now();

  // Quick Clicker tracking
  achievements.quickClicker.lastTapTimes = achievements.quickClicker.lastTapTimes.filter(t => now - t < 2000);
  achievements.quickClicker.lastTapTimes.push(now);
  if (!achievements.quickClicker.unlocked && achievements.quickClicker.lastTapTimes.length >= 5) {
    unlockAchievement("quickClicker");
  }

  setTimeout(() => {
    const randomAnswer = answers[Math.floor(Math.random() * answers.length)];
    answerDiv.textContent = randomAnswer;
    answerDiv.classList.remove("flip");

    // Track some counters for achievements
    achievements.fortuneSeeker.count++;
    if (!achievements.fortuneSeeker.unlocked && achievements.fortuneSeeker.count >= 10) {
      unlockAchievement("fortuneSeeker");
    }

    if (randomAnswer === "Cannot predict now." || randomAnswer === "Unclear, try caffeine first.") {
      achievements.coffeeAddict.count++;
      if (!achievements.coffeeAddict.unlocked && achievements.coffeeAddict.count >= 3) {
        unlockAchievement("coffeeAddict");
      }
    }

    // Unlucky Break tracking
    if (randomAnswer === "This is a disaster waiting to happen.") {
      achievements.unluckyBreak.count++;
      if (!achievements.unluckyBreak.unlocked && achievements.unluckyBreak.count >= 2) {
        unlockAchievement("unluckyBreak");
      }
    }

    // Skeptical Seal tracking
    if (randomAnswer === "My circuits say no.") {
      achievements.skepticalSeal.count++;
      if (!achievements.skepticalSeal.unlocked && achievements.skepticalSeal.count >= 3) {
        unlockAchievement("skepticalSeal");
      }
    }

    // Wise One tracking
    if (randomAnswer === "Ask again later.") {
      achievements.wiseOne.count++;
      if (!achievements.wiseOne.unlocked && achievements.wiseOne.count >= 5) {
        unlockAchievement("wiseOne");
      }
    }

    // Unlock single-shot achievements
    if (randomAnswer === "This message will self-destruct.") {
      unlockAchievement("selfDestruct");
      setTimeout(() => {
        answerDiv.style.opacity = "0";
      }, 1500);
    }
    if (randomAnswer === "Seek the beanbag chair of destiny.") {
      unlockAchievement("beanbagSeeker");
    }
    if (randomAnswer === "YES — THE PROPHECY DEMANDS IT.") {
      unlockAchievement("prophecyDemander");
    }
    if (randomAnswer === "NO — THE PROPHECY FORBIDS IT.") {
      unlockAchievement("prophecyForbidder");
    }
    if (randomAnswer === "You already know the answer, coward.") {
      unlockAchievement("cowardCaller");
    }
    if (randomAnswer === "The cheese says oui.") { 
      achievements.cheeseLover.ouiGot = true;
      if (achievements.cheeseLover.ouiGot && achievements.cheeseLover.nonGot && !achievements.cheeseLover.unlocked) {
        unlockAchievement("cheeseLover");
      } else {
        unlockAchievement("frenchBoi");
      }
    }
    if (randomAnswer === "The cheese says non.") { 
      achievements.cheeseLover.nonGot = true;
      if (achievements.cheeseLover.ouiGot && achievements.cheeseLover.nonGot && !achievements.cheeseLover.unlocked) {
        unlockAchievement("cheeseLover");
      } else {
        unlockAchievement("frenchBoi");
      }
    }
    if (randomAnswer === "Do a backflip first.") {
      unlockAchievement("backflipInitiate");
    }
    if (randomAnswer === "Do it. Or don't. I'm not your mom.") {
      unlockAchievement("riskyBiz");
    }
    if (randomAnswer ===  "Would I lie to you? (Don't answer that.)") {
      unlockAchievement("liar");
    }
    if (randomAnswer === "The baguette has spoken.") {
      unlockAchievement("raccoonConsultant");
    }
    if (randomAnswer === "Dance and see what happens.") {
      unlockAchievement("danceFever");
    }
    if (randomAnswer === "Only if the moon winks at you.") {
      unlockAchievement("moonWink");
    }
    if (randomAnswer === "Flip your phone and try again.") {
      unlockAchievement("flipYourPhone");
    }
    if (randomAnswer === "No, unless you bring snacks.") {
      unlockAchievement("snackBringer");
    }
    if (randomAnswer === "Yes, but it'll cost you a sock.") {
      unlockAchievement("sockLoss");
    }
    if (randomAnswer === "The answer was inside you all along. Ew.") {
      unlockAchievement("existentialCrisis");
    }

  }, 250);
});
</script>

</body>
</html>
